## Выбор типа события

Выбор из `keydown`, `keyup` и `keypress`.

Не `keypress`, т.к.:
> modifier and non-printing keys such as Shift, Esc, and delete trigger keydown events but 
not keypress events

(https://api.jquery.com/keypress/).

С `keyup` работать удобнее, т.к. значение `input.value` отражает действие нажатых клавиш, в 
отличие от `keydown`.


## Пересечение кодов стран и определение применяемого шаблона

В случае, когда код одной страны совпадает с левой частью кода другой страны, важно, чтобы им обеим подходил один и тот же формат номера.

Есть всего один такой случай. Код `+1`: используется в оригинальном виде для США и Канады и в виде `+1XXX` для ряда небольших государств (`+1671` - Гуам, `+1939` - Пуэрто-Рико и др.). Во всех этих случаях вполне допустимо применять американский шаблон - `+1 (XXX) XXX-XXXX`, можно без скобок.
  
Есть также случай полного совпадения кодов стран: `+7` для России и Казахстана. В этом случае допустимо применять единый шаблон `+7 (XXX) XXX-XX-XX`, распространённый в России, либо шаблон без скобок, который также подойдет обеим странам.

Во всех остальных случаях полные коды страны не пересекаются.

Всё это позволяет ***однозначно определять применяемый шаблон на основании указанного в нём кода***.

Все коды можно посмотреть здесь: [Wikipedia: Телефонные коды стран](https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BA%D0%BE%D0%B4%D1%8B_%D1%81%D1%82%D1%80%D0%B0%D0%BD).


## Почему не надо сразу дополнять первую введенную цифру остальными цифрами кода

Например, `+3` => `+375 `, и т.д.  
В таком случае при движении назад с удалением символов 
механизм не даст удалить символы из такой левой части, т.к. она автоматически будет "подскакивать" обратно. 


## Как быть с кодами городов длиной 4 и более символов

Например, `+7 (4832) 00-00-00`.

В столичном регионе острой необходимости в этом нет.

Самое простое - это сделать шаблон без скобок, чтобы хотя бы не так сильно разбивать код визуально.

Реальное решение задачи потребует:

* составления списка шаблонов для всех местных телефонных кодов;  
в России более 1000 одних только городов, количество местных телефонных зон (групп номеров, которые можно набирать без общей левой части; для большинства городов это 6- и 5-значные номера) может быть очень велико.

* определения шаблона с самой длинной частью среди
  конкурентных (чтобы из, например `+7 (`, `+7 (4832)` и `+7 (48341)` выбирался второй или третий).
  
Можно обойтись без второго пункта, если покрыть шаблонами всё пространство номеров ***без пересечений***.


## Особенности, не вошедшие в README

* если шаблон совпадает с телефоном до конца длины шаблона, дополнительные цифры, выходящие за
пределы длины шаблона, вводить не разрешается
